最近在虚拟机里练习安装了几次Archlinux，现在也算是有点心得了。通过一步一步配置Archlinux，我现在也算是对linux的系统结构有稍稍增加了一些了解。现
在就来记录一下我的安装过程。详细的方法和步骤可以参考archwiki。另外Arch Wiki有中文版的，虽然更新比较慢，但是对于英语不好的同学还是很有参考价值的。

1.安装准备

1  文件下载及启动盘制作
文件可以在https://mirrors.ustc.edu.cn/，这是个中科大的镜像网，选择如下：
下载完成后，就是制作一个启动盘，我使用的是Linux下强大的dd的命令，即：

 #dd if=xxx.iso of=/dev/sdb

其中if表示输入文件，of表示输出文件，/dev/sdb表示的是你的u盘，具体要根据个人系统挂载情况。准备的u盘不需要太好，因为这种方式会使得u盘的
容量隐藏起来而无法使用，所以最好用一个次一点的u盘。当然了，制作启动盘有很多种方法，使用ultraiso这个软件也是比较方便的，具体的用法百度就有，
这里不再赘述。

设置虚拟机

我的用的是vmware workstation虚拟机。首先先新建一个虚拟机，选项无所谓，因为vmware没有针对Archlinux的快捷设置。内存分个1G就够用了，硬盘分个20G（轻度使用的话8G足矣），网络类型选择nat（选择其他网络选项可能出现连接不到网络的情况）。注意如果你用优化软件优化过启动项，可能会把vmware nat服务给优化掉，这样进入虚拟机里面是没有网的，需要开启nat服务才行。然后剩下的都默认就行了。然后选择好下载好的Archlinux的镜像。

选择系统类型

进去以后会出现Archlinux的live iso的启动菜单，上面还有Archlinux的logo，着实不错。如果要安装64位的arch，就选择第一项x86_64；如果想安装32位的arch，就选择第二项那个86的选项。然后等待片刻，进入arch live iso的终端命令行。默认为root用户，拥有所有权限，可以使用任何命令。

测试网络状态

第一步先试试

ping -c 4 www.baidu.com
如果有网的话就可以进行下一步，Archlinux没有网的话是不能装的。因为它和其他的linux发行版不太一样。它的live镜像真的只是一个给你在线安装arch的环境而已。所有的arch的软件包都需要联网下载安装。没网或者网速超慢的话还是先别安装了。如果ping的结果是找不到该主机，可能是由于dhcp服务没有开启，使用

systemctl enable dhcpcd.service
开启该服务。

测试系统时间

然后是确定一下系统时间是否正确。

timedatectl status
查看一下系统时间状态，如果时间不对的话可以输入

timedatectl set-ntp true
开启ntp服务，它会每隔11分钟进行一次网络对时。然后在查看一下系统时间状态。

测试存储设备

然后使用

lsblk
命令查看一下存储设备状态。在sda节点下（准确的说是sdx，有几个设备就有几个sdx）看看有没有sda1这样的，每一个带数字的都是该物理硬盘分出来的区。依据我们刚才的设置，这里应该只有sda一个20G的硬盘。

